{{ define "main" }}
<div class="container mx-auto px-4 py-8">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <div class="text-center mb-12">
    <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">
      {{ .Title }}
    </h1>
    <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
      {{ .Description }}
    </p>
  </div>

  <!-- é¡¹ç›®ç­›é€‰å™¨ -->
  <div class="flex flex-wrap justify-center gap-3 mb-12">
    <button class="filter-btn active" data-filter="all">
      <span class="mr-2">ğŸ“</span>å…¨éƒ¨é¡¹ç›®
    </button>
    <button class="filter-btn" data-filter="web">
      <span class="mr-2">ğŸŒ</span>Web åº”ç”¨
    </button>
    <button class="filter-btn" data-filter="mobile">
      <span class="mr-2">ğŸ“±</span>ç§»åŠ¨åº”ç”¨
    </button>
    <button class="filter-btn" data-filter="ai">
      <span class="mr-2">ğŸ¤–</span>AI/ML
    </button>
    <button class="filter-btn" data-filter="tool">
      <span class="mr-2">ğŸ› ï¸</span>å·¥å…·åº“
    </button>
  </div>

  <!-- é¡¹ç›®ç½‘æ ¼ -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
    {{ range .Site.RegularPages }}
      {{ if eq .Type "cases" }}
        {{ if ne .File.TranslationBaseName "_index" }}
          {{ $project := .Params.project }}
          <div class="project-card group" data-category="{{ index .Params.categories 0 | lower }}">
            <article class="relative overflow-hidden rounded-xl border border-neutral-200 bg-white shadow-sm transition-all duration-300 hover:shadow-lg dark:border-neutral-700 dark:bg-neutral-800">
              <!-- é¡¹ç›®å›¾ç‰‡ -->
              <div class="relative h-48 overflow-hidden">
                {{ if $project.image }}
                  <img src="{{ $project.image }}" alt="{{ .Title }}" class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105">
                {{ else }}
                  <div class="flex h-full w-full items-center justify-center bg-gradient-to-br from-primary-500 to-primary-600">
                    <span class="text-xl font-semibold text-white">{{ .Title }}</span>
                  </div>
                {{ end }}
                
                <!-- çŠ¶æ€æ ‡ç­¾ -->
                <div class="absolute top-3 right-3">
                  {{ $statusColor := "bg-neutral-500" }}
                  {{ $statusText := $project.status }}
                  {{ if eq $project.status "completed" }}
                    {{ $statusColor = "bg-emerald-500" }}
                    {{ $statusText = "å·²å®Œæˆ" }}
                  {{ else if eq $project.status "development" }}
                    {{ $statusColor = "bg-amber-500" }}
                    {{ $statusText = "å¼€å‘ä¸­" }}
                  {{ else if eq $project.status "planning" }}
                    {{ $statusColor = "bg-blue-500" }}
                    {{ $statusText = "è§„åˆ’ä¸­" }}
                  {{ end }}
                  <span class="{{ $statusColor }} text-white px-3 py-1 rounded-full text-xs font-medium shadow-sm">
                    {{ $statusText }}
                  </span>
                </div>
              </div>

              <!-- é¡¹ç›®ä¿¡æ¯ -->
              <div class="p-6">
                <header class="mb-4">
                  <h3 class="text-xl font-bold text-neutral-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
                    {{ .Title }}
                  </h3>
                  <p class="text-sm text-neutral-600 dark:text-neutral-400 leading-relaxed">
                    {{ .Description }}
                  </p>
                </header>
                
                <!-- æŠ€æœ¯æ ˆæ ‡ç­¾ -->
                {{ if $project.tech_stack }}
                  <div class="mb-4">
                    <div class="flex flex-wrap gap-2">
                      {{ range $project.tech_stack }}
                        <span class="inline-flex items-center rounded-full bg-neutral-100 px-3 py-1 text-xs font-medium text-neutral-700 dark:bg-neutral-700 dark:text-neutral-300">
                          {{ . }}
                        </span>
                      {{ end }}
                    </div>
                  </div>
                {{ end }}

                <!-- é¡¹ç›®ä¿¡æ¯ -->
                {{ if or $project.duration $project.team_size }}
                  <div class="mb-4 space-y-1 text-xs text-neutral-500 dark:text-neutral-400">
                    {{ if $project.duration }}
                      <div class="flex items-center">
                        <span class="mr-2">â±ï¸</span>
                        <span>{{ $project.duration }}</span>
                      </div>
                    {{ end }}
                    {{ if $project.team_size }}
                      <div class="flex items-center">
                        <span class="mr-2">ğŸ‘¥</span>
                        <span>{{ $project.team_size }}</span>
                      </div>
                    {{ end }}
                  </div>
                {{ end }}

                <!-- æ“ä½œæŒ‰é’® -->
                <footer class="flex gap-2">
                  {{ if $project.github }}
                    <a href="{{ $project.github }}" target="_blank" class="flex-1 inline-flex items-center justify-center rounded-lg bg-neutral-900 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600">
                      <svg class="mr-2 h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                      </svg>
                      GitHub
                    </a>
                  {{ end }}
                  {{ if $project.demo }}
                    <a href="{{ $project.demo }}" target="_blank" class="flex-1 inline-flex items-center justify-center rounded-lg bg-primary-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600">
                      <span class="mr-2">ğŸš€</span>
                      æ¼”ç¤º
                    </a>
                  {{ end }}
                  <a href="{{ .RelPermalink }}" class="flex-1 inline-flex items-center justify-center rounded-lg border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-50 dark:border-neutral-600 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700">
                    <span class="mr-2">ğŸ“–</span>
                    è¯¦æƒ…
                  </a>
                </footer>
              </div>
            </article>
          </div>
        {{ end }}
      {{ end }}
    {{ end }}
  </div>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <div class="mt-16 rounded-xl bg-gradient-to-r from-primary-500 to-primary-600 p-8 text-white shadow-lg">
    <div class="grid grid-cols-2 gap-8 text-center md:grid-cols-4">
      <div>
        <div class="text-3xl font-bold mb-2">{{ len (where .Site.RegularPages "Type" "cases") }}</div>
        <div class="text-primary-100">å®Œæˆé¡¹ç›®</div>
      </div>
      <div>
        <div class="text-3xl font-bold mb-2">5+</div>
        <div class="text-primary-100">æŠ€æœ¯æ ˆ</div>
      </div>
      <div>
        <div class="text-3xl font-bold mb-2">3+</div>
        <div class="text-primary-100">å¹´ç»éªŒ</div>
      </div>
      <div>
        <div class="text-3xl font-bold mb-2">100%</div>
        <div class="text-primary-100">å®¢æˆ·æ»¡æ„åº¦</div>
      </div>
    </div>
  </div>
</div>

<!-- è‡ªå®šä¹‰æ ·å¼ -->
<style>
.filter-btn {
  @apply inline-flex items-center rounded-lg border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-50 dark:border-neutral-600 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700;
}

.filter-btn.active {
  @apply border-primary-500 bg-primary-500 text-white hover:bg-primary-600 dark:border-primary-400 dark:bg-primary-500 dark:hover:bg-primary-600;
}

.project-card {
  opacity: 1;
  transform: scale(1);
  transition: all 0.3s ease;
}

.project-card.hidden {
  opacity: 0;
  transform: scale(0.8);
  pointer-events: none;
}

/* æ·»åŠ ä¸€äº›å¾®å¦™çš„åŠ¨ç”»æ•ˆæœ */
.project-card:hover {
  transform: translateY(-2px);
}


</style>

<!-- äº¤äº’è„šæœ¬ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const filterBtns = document.querySelectorAll('.filter-btn');
  const projectCards = document.querySelectorAll('.project-card');

  filterBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„ active çŠ¶æ€
      filterBtns.forEach(b => b.classList.remove('active'));
      // æ·»åŠ å½“å‰æŒ‰é’®çš„ active çŠ¶æ€
      this.classList.add('active');

      const filter = this.getAttribute('data-filter');

      projectCards.forEach(card => {
        const category = card.getAttribute('data-category');
        
        if (filter === 'all' || category === filter) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });
    });
  });
});
</script>
{{ end }}
