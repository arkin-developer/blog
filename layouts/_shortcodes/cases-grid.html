<!-- Cases ç½‘æ ¼ -->
<div class="mt-8 space-y-8 w-full" id="cases-grid">
  {{ range where .Site.RegularPages "Section" "cases" }}
    {{ if ne .File.TranslationBaseName "_index" }}
      <div class="case-card group">
        <article class="relative overflow-hidden rounded-2xl border border-neutral-200 bg-white shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02] dark:border-neutral-700 dark:bg-neutral-600 w-full">
          <div class="flex flex-col">
            <!-- ä¸Šæ–¹ï¼šæ–‡å­—ä¿¡æ¯ - ç‚¹å‡»æ­£å¸¸è·³è½¬ -->
            <div class="flex-1 p-6 lg:p-8 flex flex-col justify-center cursor-pointer" onclick="window.location.href='{{ .Permalink }}'">
              <header class="mb-4">
                <h3 class="text-2xl lg:text-3xl font-bold text-neutral-900 dark:text-neutral mb-3 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors leading-tight">
                  {{ .Title }}
                </h3>
                <p class="text-base lg:text-lg text-neutral-600 dark:text-neutral-400 leading-relaxed">
                  {{ .Description }}
                </p>
              </header>
              
              <!-- æŠ€æœ¯æ ˆæ ‡ç­¾ -->
              {{ if .Params.project.tech_stack }}
                <div class="flex flex-wrap gap-2 mt-4">
                  {{ range .Params.project.tech_stack }}
                    <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-sm font-medium">
                      {{ . }}
                    </span>
                  {{ end }}
                </div>
              {{ end }}
            </div>

            <!-- ä¸‹æ–¹ï¼šé¡¹ç›®é¢„è§ˆ - ç‚¹å‡»æ–°æ ‡ç­¾é¡µæ‰“å¼€ -->
            <div class="w-full bg-white dark:bg-neutral-800 overflow-hidden p-6 lg:p-8 cursor-pointer case-preview-area" onclick="handleCaseClick(event, '{{ .Params.project.demo }}', '{{ .Params.project.github }}', '{{ .Permalink }}')" data-demo="{{ .Params.project.demo }}" data-github="{{ .Params.project.github }}" data-permalink="{{ .Permalink }}">
              {{ if .Params.project.image }}
                <img 
                  src="{{ .Params.project.image }}"
                  alt="{{ .Title }} é¢„è§ˆ"
                  class="w-full h-full object-cover rounded-lg"
                  style="border-radius: 8px;"
                />
              {{ else if .Params.project.demo }}
                <div class="h-full bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 flex items-center justify-center rounded-lg">
                  <div class="text-center">
                    <div class="text-5xl mb-4">ğŸš€</div>
                    <div class="text-xl font-semibold text-neutral-700 dark:text-neutral-300 mb-3">{{ .Title }}</div>
                    <div class="text-base text-neutral-500 dark:text-neutral-400">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿æ¼”ç¤º</div>
                  </div>
                </div>
              {{ else if .Params.project.github }}
                <div class="h-full bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20 flex items-center justify-center rounded-lg">
                  <div class="text-center">
                    <div class="text-5xl mb-4">ğŸ’»</div>
                    <div class="text-xl font-semibold text-neutral-700 dark:text-neutral-300 mb-3">{{ .Title }}</div>
                    <div class="text-base text-neutral-500 dark:text-neutral-400">ç‚¹å‡»æŸ¥çœ‹æºä»£ç </div>
                  </div>
                </div>
              {{ else }}
                <div class="h-full bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 flex items-center justify-center rounded-lg">
                  <div class="text-center">
                    <div class="text-5xl mb-4">ğŸ“‹</div>
                    <div class="text-xl font-semibold text-neutral-700 dark:text-neutral-300 mb-3">{{ .Title }}</div>
                    <div class="text-base text-neutral-500 dark:text-neutral-400">ç‚¹å‡»æŸ¥çœ‹é¡¹ç›®è¯¦æƒ…</div>
                  </div>
                </div>
              {{ end }}
            </div>
          </div>
        </article>
      </div>
    {{ end }}
  {{ end }}
</div>

<style>
/* å¡ç‰‡æ‚¬åœæ•ˆæœ */
.case-card article {
  transform: translateY(0);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.case-card article:hover {
  transform: translateY(-4px);
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 1024px) {
  .case-card article {
    height: 600px !important;
    min-height: 600px;
  }
  
  .case-card article .flex.flex-col {
    height: 600px !important;
  }
  
  .case-card article .flex.flex-col > div:last-child {
    height: 350px !important;
  }
}
</style>

<script>
function handleCaseClick(event, demoUrl, githubUrl, permalink) {
  // é˜»æ­¢äº‹ä»¶å†’æ³¡
  event.stopPropagation();
  
  // ä¼˜å…ˆçº§ï¼šæ¼”ç¤ºé“¾æ¥ > GitHubé“¾æ¥ > æ–‡ç« é¡µé¢
  if (demoUrl && demoUrl.trim() !== '') {
    window.open(demoUrl, '_blank');
  } else if (githubUrl && githubUrl.trim() !== '') {
    window.open(githubUrl, '_blank');
  } else {
    window.open(permalink, '_blank');
  }
}

// ä¸ºé¢„è§ˆåŒºåŸŸæ·»åŠ æ ·å¼
document.addEventListener('DOMContentLoaded', function() {
  const previewAreas = document.querySelectorAll('.case-preview-area img');
  previewAreas.forEach(function(img) {
    // ç¦ç”¨å›¾ç‰‡çš„æŒ‡é’ˆäº‹ä»¶ï¼Œè®©çˆ¶å®¹å™¨å¤„ç†ç‚¹å‡»
    img.style.pointerEvents = 'none';
    
    // é¼ æ ‡è¿›å…¥é¢„è§ˆåŒºåŸŸæ—¶ï¼Œä¸´æ—¶å¯ç”¨æŒ‡é’ˆäº‹ä»¶
    img.parentElement.addEventListener('mouseenter', function() {
      img.style.pointerEvents = 'auto';
    });
    
    // é¼ æ ‡ç¦»å¼€é¢„è§ˆåŒºåŸŸæ—¶ï¼Œé‡æ–°ç¦ç”¨æŒ‡é’ˆäº‹ä»¶
    img.parentElement.addEventListener('mouseleave', function() {
      img.style.pointerEvents = 'none';
    });
  });
});
</script>
